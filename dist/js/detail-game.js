"use strict";function renderData(e){cacheData=e;var a='<header><section class="header-scores">';a+='<img class="header-scores-logo1eft" src="'+e.teamA.logo+'"/>',a+='<div><span class="header-scores-left"><b>'+e.teamA.score+"</b></span>",a+='<span class="header-scores-midele"><b>:</b></span>',a+='<span class="header-scores-right"><b>'+e.teamB.score+"</b></span></div> ",a+='<img class="header-scores-logoright" src="'+e.teamB.logo+'"/> ',a+='</section> <section class="header-teams"> ',a+='<span class="header-teams-left">'+e.teamA.name+"</span> ";var s="";if(e.gameTime){var t=new Date(e.gameTime);s=t.getHours()+" : "+t.getMinutes()}a+='<div class="header-teams-middle"><span>'+s+"</span></div> ",a+='<span class="header-teams-right">'+e.teamB.name+'</span> </section> <section class="ProgressBar clearFix"> ';var i=50*e.teamA.score,l=Math.max(50*e.teamB.score,5);if(a+='<div class="ProgressBar-leftbox"><div class="ProgressBar-left" style="width:'+i+'px"></div></div>',a+='<div class="ProgressBar-rightbox"><div class="ProgressBar-right" style="width:'+l+'px"></div></div> </section>',a+='<section class="supporters"><div><img class="supporters-leftlogo" src="images/matchdetail_ic_support.png"/>',a+='<span class="supporters-leftNumber supp" id="supporters-leftNumber"> '+e.teamA.support_numbber+"</span></div>",a+='<span class="supporters-gameintro">'+e.title+"</span>",a+='<div><span class="supporters-rightNumber supp"id="supporters-rightNumber">'+e.teamB.support_numbber+"</span> ",a+='<img class="supporters-rightlogo" src="images/matchdetail_ic_support.png"/></div></section> ',a+='<section class="line"></section></header>',e.relateArticle.length>0&&(a+='<section class="live-byword"> <h2>图文直播</h2> ',a+='<section class="live-byword-listbox"> <ul>',$.each(e.relateArticle,function(s,t){a+='<li> <div class="innerbox"><div class="live-byword-list clearfix"> ',a+='<a href="##" class="live-byword-listimg"><img src="'+t.avatar+'"/> </a>',a+='<div class="fl live-byword-list-games" > ',a+='<p class="live-byword-list-name">'+t.author+"</p> ",a+='<p class="live-byword-list-time">'+t.round+"<span>&nbsp;"+t.time+"</span></p></div></div> ",a+='<div class="live-byword-list-words"> ',a+="<p>"+t.content+"</p>";var i=e.relateArticle[s];i.images.length>0&&(a+='<div class="clearFix live-byword-list-words-images">',$.each(i.images,function(e,s){a+='<img class="fl" src="'+s+'"/>'}),a+="</div> "),a+="</div></div></li>"}),a+="</ul> </section>",a+='</section><section class="line"></section>'),e.relateVideos.length>0&&(a+='<section class="list"><h3>比赛视频</h3> <ul> ',$.each(e.relateVideos,function(e,s){a+='<li class="clearfix list-item" data-type="'+s.articleType+'" data-id="'+s.extra+'"><img class="fl" src="'+s.thumbnail+'"/>',a+='<p class="list-title">'+s.title+"</p> ",a+='<span class="list-tag" style="color:'+s.tagColor+";border-color:"+s.tagColor+';">'+s.tagName+"</span>";var t,i=new Date;s.updateTime&&(i=new Date(s.updateTime)),t=i.getFullYear()+"-"+(i.getMonth()+1)+"-"+i.getDate(),a+='<span class="list-time">'+t+"</span>",a+="</li>"}),a+='</ul></section><section class="line"></section>'),e.originSrc&&e.cover&&(a+='<section class="gamevedio"> ',a+="<h2>比赛视频</h2>",a+='<div class="game-video-play"><div class="play-icon" data-url="'+e.originSrc+'"><img src="images/play_icon.png" alt=""><span>直播中</span></div><img src="'+e.cover+'"><p>'+e.title+"</p></section> ",a+='</section><section class="line"></section></div>'),e.recomendVideos.length>0&&(a+='<section class="list"> <h3>相关新闻</h3><ul>',$.each(e.recomendVideos,function(e,s){a+='<li class="clearfix list-item" data-type="'+s.articleType+'" data-id="'+s.extra+'">',a+='<img class="fl" src="'+s.thumbnail+'"/>',a+='<p class="list-title">'+s.title+"</p>",a+='<span class="list-tag" style="color:'+s.tagColor+";border-color:"+s.tagColor+';">'+s.tagName+"</span>";var t,i=new Date;s.updateTime&&(i=new Date(s.updateTime)),t=i.getFullYear()+"-"+(i.getMonth()+1)+"-"+i.getDate(),a+='<span class="list-time">'+t+"</span>",a+="</li> "}),a+=" </ul></section>"),e.gameContent.length>0){a+='<section class="line"></section><section class="game-data clearFix">',a+="<h2>数据</h2>",a+='<div  class="clearFix" id="roundlist">';var c=e.gameContent.length,n=document.documentElement.clientWidth,r=n/c;$.each(e.gameContent,function(e,s){a+=0==e?'<a href="##" class="roundspan3 on" data-id="'+e+'" style="width:'+r+'px" >'+s.title+"</a>":'<a href="##" class="roundspan3" data-id="'+e+'" style="width:'+r+'px" >'+s.title+"</a>"}),a+="</div>",a+='<div class="data-details">',$.each(e.gameContent,function(s,t){a+=0==s?'<div class="data-content-item">':'<div class="data-content-item" style="display: none">',a+='<section class="gamedata-teams"><img class="gamedata-teams-logo1eft" src="'+e.teamA.logo+'"/> <p class="gamedata-teams-duration">'+e.gameContent[s].time+'</p> <img class="gamedata-teams-logoright" src="'+e.teamB.logo+'"/></section> ';var i=t.dataList.list;$.each(i,function(e,s){if(0==s.listType){a+='<section class="game-data-select">',a+='<div class="img-left">';var t=s.fieldData[0];$.each(t,function(e,s){a+='<img class="game-data-select-logo1eft" src="'+s+'"/>'}),a+="</div>",a+='<p class="game-data-select-word">'+i[0].fieldName+"</p>";var l=s.fieldData[1];a+='<div class="img-right">',$.each(l,function(e,s){a+='<img class="game-data-select-logo1eft" src="'+s+'"/>'}),a+="</div>",a+=" </section>"}else if(1==s.listType){var c,n,r=parseInt(s.fieldData[0]),o=parseInt(s.fieldData[1]);r+o>100?(c=100*r/(r+o),n=100*o/(r+o)):(c=r,n=o),a+='<section class="conpares clearfix">',a+="<span>"+s.fieldName+"</span>",a+='<div class="bar-inner">',a+='<div class="left-bar">'+s.fieldData[0]+'<span class="bar" style="width:'+c+'px"></span></div>',a+='<div class="right-bar"><span class="bar" style="width:'+n+'px"></span>'+s.fieldData[1]+"</div>",a+="</div>",a+="</section>"}}),a+="</div>"}),a+="</div></section>"}a+='<section class="line"></section> ',$("#box").html(a)}window.Jn={};var cacheData=null;Jn.setData=function(e){"gameInitDetail"==e.key&&renderData(e.content)},$(function(){$(document).on("click",".list-item",function(e){e.preventDefault();try{Jnapp.jn_related($(this).data("type"),$(this).data("id")+"")}catch(e){}}),$(document).on("click",".supporters-leftlogo, .supporters-leftNumber",function(){var e=$("#supporters-leftNumber"),a=parseInt(e.html());try{a++,e.html(a),Jnapp.jn_agree(7,cacheData.dataId+"",cacheData.teamB.teamId+"")}catch(s){}}),$(document).on("click",".supporters-rightlogo, .supporters-rightNumber",function(){var e=$("#supporters-rightNumber"),a=parseInt(e.html());try{a++,e.html(a),Jnapp.jn_agree(7,cacheData.dataId+"",cacheData.teamB.teamId+"")}catch(s){alert("")}}),$(".live-byword-listbox ul").on("click","li",function(e){console.log($(this).index()),e.preventDefault()}),$(document).on("click","a.roundspan3",function(e){if(e.preventDefault(),!$(this).hasClass("on")){var a=$(this).data("id");$(this).addClass("on").siblings("a").removeClass("on"),$(".data-details > .data-content-item").eq(a).show().siblings().hide()}}),$(document).on("click",".play-icon",function(){try{Jnapp.jn_related(5,$(this).data("url"))}catch(e){}})});