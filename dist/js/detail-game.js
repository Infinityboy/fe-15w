"use strict";function renderData(a){var e='<header><section class="header-scores">';e+='<div><img class="header-scores-logo1eft" src="'+a.teamA.logo+'"/></div>',e+='<div class="game-score"><span><b>'+a.teamA.score+"</b> </span><span><b>:</b></span>",e+=" <span><b>"+a.teamB.score+"</b></span></div> ",e+='<div><img class="header-scores-logoright" src="'+a.teamB.logo+'"/></div>',e+="</section>",e+='<section class="header-teams">',e+='<div class="header-teams-left">'+a.teamA.name+"</div> ",e+='<div class="header-teams-middle"><span>'+a.gameTime+" "+a.gameType+"</span></div> ",e+='<div class="header-teams-right">'+a.teamB.name+'</div> </section> <section class="ProgressBar clearFix"> ';var t=Math.max(50*a.teamA.score,5),s=Math.max(50*a.teamB.score,5);if(e+='<div class="ProgressBar-leftbox"><div class="ProgressBar-left" style="width:'+t+'px"></div></div>',e+='<div class="ProgressBar-rightbox"><div class="ProgressBar-right" style="width:'+s+'px"></div></div> </section>',e+='<section class="supporters"><a href="##" class="sp sp-left" data-id="'+a.dataId+'" data-team="'+a.teamA.teamId+'"><img class="supporters-leftlogo" src="images/matchdetail_ic_support.png"/>',e+='<span class="supporters-leftNumber supp" id="supporters-leftNumber"> '+a.teamA.support_numbber+"</span></a>",e+='<div class="space-holder"></div>',e+='<a href="##" class="sp sp-right" data-id="'+a.dataId+'" data-team="'+a.teamB.teamId+'">',e+='<img class="supporters-rightlogo" src="images/matchdetail_ic_support.png"/><span class="supporters-rightNumber supp"id="supporters-rightNumber">'+a.teamB.support_numbber+"</span></a></section> ",e+="</header>",e+='</div id="wrap"><ul class="outer"><li class="outList selected" data-id="0"><a href="##">直播</a></li><li class="outList " data-id="1"><a href="##">新闻</a></li><li class="outList " data-id="2"><a href="##">视频</a></li></ul><div class="outContainer ">',a.gameContent.length>0){e+='<div class="live" data-id="0">',e+='<section class="game-data clearFix">',e+='<div  class="clearFix" id="roundlist">';var i=a.gameContent.length,l=document.documentElement.clientWidth,c=l/i;$.each(a.gameContent,function(a,t){e+=0===a?'<a href="##" class="roundspan3 on" data-id="'+a+'" style="width:'+c+'px" >'+t.title+"</a>":'<a href="##" class="roundspan3" data-id="'+a+'" style="width:'+c+'px" >'+t.title+"</a>"}),e+="</div>",e+='<div class="data-details">',$.each(a.gameContent,function(a,t){e+=0===a?'<div class="data-content-item">':'<div class="data-content-item" style="display: none">';var s=t.dataList.list;$.each(s,function(a,t){if(0===t.listType){e+='<section class="game-data-select">',e+='<div class="img-left">';var i=t.fieldData[0];$.each(i,function(a,t){e+='<img class="game-data-select-logo1eft" src="'+t+'"/>'}),e+="</div>",e+='<p class="game-data-select-word">'+s[0].fieldName+"</p>";var l=t.fieldData[1];e+='<div class="img-right">',$.each(l,function(a,t){e+='<img class="game-data-select-logo1eft" src="'+t+'"/>'}),e+="</div>",e+=" </section>"}else if(1===t.listType){var c,r,n=parseInt(t.fieldData[0]),d=parseInt(t.fieldData[1]);n+d>100?(c=100*n/(n+d),r=100*d/(n+d)):(c=n,r=d)}}),e+="</div>"}),e+="</div></section>"}a.relateArticle.length>0&&(e+='<section class="live-byword-listbox selected"> <ul>',$.each(a.relateArticle,function(t,s){e+='<li> <div class="innerbox"><div class="live-byword-list clearfix"> ',e+='<a href="##" class="live-byword-listimg"><img src="'+s.avatar+'"/> </a>',e+='<div class="fl live-byword-list-games" > ',e+='<p class="live-byword-list-name">'+s.author+"</p> ",e+='<p class="live-byword-list-time">'+s.round+"<span>&nbsp;"+s.time+"</span></p></div></div> ",e+='<div class="live-byword-list-words"> ',e+="<p>"+s.content+"</p>";var i=a.relateArticle[t];i.images.length>0&&(e+='<div class="clearFix live-byword-list-words-images">',$.each(i.images,function(a,t){e+='<img class="fl" src="'+t+'"/>'}),e+="</div> "),e+="</div></div></li>"}),e+="</ul> </section>",e+="</section></div>"),a.recomendVideos.length>0&&(e+='<div class="news" data-id="1">',e+='<section class="list"> <h3>相关新闻</h3><ul>',$.each(a.recomendVideos,function(a,t){e+='<li class="clearfix"><a href="##" class="list-item" data-type="'+t.articleType+'" data-id="'+t.extra+'">',e+='<img class="fl" src="'+t.thumbnail+'"/>',e+='<p class="list-title">'+t.title+"</p>",t.tagColor&&t.tagName&&(e+='<span class="list-tag" style="color:'+t.tagColor+";border-color:"+t.tagColor+';">'+t.tagName+"</span>");var s,i=new Date;t.updateTime&&(i=new Date(1e3*t.updateTime)),s=i.getFullYear()+"-"+(i.getMonth()+1)+"-"+i.getDate(),e+='<span class="list-time">'+s+"</span>",e+="</a></li> "}),e+=" </ul></section>"),a.relateVideos.length>0&&(e+='<section class="list"><h3>比赛视频</h3> <ul> ',$.each(a.relateVideos,function(a,t){e+='<li class="clearfix"><a href="##" class="list-item" data-type="'+t.articleType+'" data-id="'+t.extra+'"><img class="fl" src="'+t.thumbnail+'"/>',e+='<p class="list-title">'+t.title+"</p> ",t.tagColor&&t.tagName&&(e+='<span class="list-tag" style="color:'+t.tagColor+";border-color:"+t.tagColor+';">'+t.tagName+"</span>");var s,i=new Date;t.updateTime&&(i=new Date(1e3*t.updateTime)),s=i.getFullYear()+"-"+(i.getMonth()+1)+"-"+i.getDate(),e+='<span class="list-time">'+s+"</span>",e+="</a></li>"}),e+="</ul></section></div>"),a.originSrc&&a.cover&&(e+='<div class="video" data-id="2"> ',e+='<section class="gamevedio" data-id="2"> ',e+="<h2>比赛视频</h2>",e+='<div class="game-video-play"><div class="play-icon" data-url="'+a.originSrc+'"><img src="images/play_icon.png" alt=""><span>直播中</span></div><img src="'+a.cover+'"><p>'+a.title+"</p></section> ",e+="</section></div></div></div>"),$("#box").html(e)}var cacheData=null;window.Jn={setCookie:function(a,e,t){var s=new Date;s.setDate(s.getDate()+t),document.cookie=a+"="+e+";expires="+s},getCookie:function(a){for(var e=document.cookie.split("; "),t=0;t<e.length;t++){var s=e[t].split("=");if(s[0]==a)return s[1]}return""}},Jn.setData=function(a){"gameInitDetail"==a.key&&renderData(a.content)},$(function(){$.get("data/game-detail.json",function(a){1e4==a.code&&renderData(a.data)}),$(document).on("click",".list-item",function(a){a.preventDefault();try{Jnapp.jn_related($(this).data("type"),$(this).data("id")+"")}catch(e){}}),$(document).on("click",".sp-left",function(a){a.preventDefault();var e=$("#supporters-leftNumber"),t=parseInt(e.html()),s=$(this).data("id"),i=$(this).data("team");if(!Jn.getCookie("sp-"+s))try{t++,e.html(t),$(this).find("img").attr("src","images/matchdetail_ic_support_red.png"),Jn.setCookie("sp-"+s,t,365),Jnapp.jn_agree(7,s,i)}catch(a){}}),$(document).on("click",".sp-right",function(a){a.preventDefault();var e=$("#supporters-rightNumber"),t=$(this).data("id"),s=$(this).data("team"),i=parseInt(e.html());if(!Jn.getCookie("sp-"+t))try{i++,e.html(i),$(this).find("img").attr("src","images/matchdetail_ic_support_blue.png"),Jn.setCookie("sp-"+t,i,365),Jnapp.jn_agree(7,t,s)}catch(a){}}),$(document).on("click",".outer .outList",function(a){if(a.preventDefault(),!$(this).hasClass("selected")){var e=$(this).data("id");$(this).addClass("selected").siblings().removeClass("selected"),$(".outContainer").children().eq(e).css({display:"block"}).siblings().css({display:"none"})}}),$(document).on("click","a.roundspan3",function(a){if(a.preventDefault(),!$(this).hasClass("on")){var e=$(this).data("id");$(this).addClass("on").siblings("a").removeClass("on"),$(".data-details > .data-content-item").eq(e).show().siblings().hide()}}),$(document).on("click",".play-icon",function(){try{Jnapp.jn_related(5,$(this).data("url"))}catch(a){}})});